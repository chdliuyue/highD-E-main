# highD 数据字典（Data Dictionary）

本数据字典针对 highD 数据集中每一段录像对应的三个 CSV 文件：  

- `XX_recordingMeta.csv`  —— 场景级（录像级）元信息  
- `XX_tracksMeta.csv`     —— 车辆级轨迹汇总信息  
- `XX_tracks.csv`         —— 帧级微观轨迹与邻车关系  

> ⚠️ 坐标系说明（非常重要）  
> - 原点在图像左上角；  
> - **x 轴**：向右为正；  
> - **y 轴**：向下为正；  
> - 上方车道：`drivingDirection = 1`，车辆向左行驶 ⇒ `xVelocity < 0`；  
> - 下方车道：`drivingDirection = 2`，车辆向右行驶 ⇒ `xVelocity > 0`。  
> 所有位置与速度、加速度值均在该平面坐标系下表示，单位为米和秒。

---

## 1. `XX_recordingMeta.csv` —— 录像级元信息

一行对应一段录像。

| 列名 (Column)        | 含义 (Description)                                                                 | 单位 (Unit) |
|----------------------|-------------------------------------------------------------------------------------|-------------|
| `id`                 | 录像编号，在整个数据集中唯一。                                                     | `[-]`       |
| `frameRate`          | 录像帧率，即每秒采集的帧数。                                                       | `[Hz]` (帧/秒) |
| `locationId`         | 拍摄地点编号（共有若干高速路断面）。                                               | `[-]`       |
| `speedLimit`         | 本录像中该方向所有车道的限速；若为 `-1` 表示未提供。                               | `[m/s]`     |
| `month`              | 拍摄月份，例如 `9.2017` 表示 2017 年 9 月。                                        | `[-]`       |
| `weekDay`            | 拍摄当天的星期几（如 `Mon`, `Tue` 等）。                                           | `[-]`       |
| `startTime`          | 录像开始时间，小时:分钟。                                                          | `[hh:mm]`   |
| `duration`           | 录像持续时间。                                                                     | `[s]`       |
| `totalDrivenDistance`| 该录像中所有车辆行驶距离之和。                                                     | `[m]`       |
| `totalDrivenTime`    | 该录像中所有车辆行驶时间之和（所有车辆 life time 之和）。                          | `[s]`       |
| `numVehicles`        | 该录像中被跟踪的车辆总数（所有 `Car` 和 `Truck`）。                                | `[-]`       |
| `numCars`            | 被跟踪的小客车（Class = `Car`）数量。                                              | `[-]`       |
| `numTrucks`          | 被跟踪的卡车（Class = `Truck`）数量。                                              | `[-]`       |
| `upperLaneMarkings`  | 上方行驶方向的车道线 y 坐标，`;` 分隔的浮点数；用于确定上行方向各车道位置。        | `[m]`       |
| `lowerLaneMarkings`  | 下方行驶方向的车道线 y 坐标，`;` 分隔的浮点数；用于确定下行方向各车道位置。        | `[m]`       |

---

## 2. `XX_tracksMeta.csv` —— 车辆级轨迹汇总

一行对应一辆车在整段录像中的汇总信息。

| 列名 (Column)       | 含义 (Description)                                                                                       | 单位 (Unit) |
|---------------------|-----------------------------------------------------------------------------------------------------------|-------------|
| `id`                | 车辆轨迹 ID，在该录像中唯一；与 `tracks.csv` 中的 `id` 对应。                                            | `[-]`       |
| `width`             | 车辆包围框宽度，约等于车辆物理车长。                                                                     | `[m]`       |
| `height`            | 车辆包围框高度，约等于车辆物理车宽。                                                                     | `[m]`       |
| `initialFrame`      | 该车辆第一次被检测到的帧号。                                                                             | `[-]`       |
| `finalFrame`        | 该车辆最后一次被检测到的帧号。                                                                           | `[-]`       |
| `numFrames`         | 该车辆轨迹包含的帧数，通常为 `finalFrame - initialFrame + 1`。                                           | `[-]`       |
| `class`             | 车辆类别：`Car` 或 `Truck`。                                                                             | `[-]`       |
| `drivingDirection`  | 行驶方向：`1` 表示图像上方车道、车辆向左行驶；`2` 表示图像下方车道、车辆向右行驶。                       | `[-]`       |
| `traveledDistance`  | 该车辆在本录像中的纵向行驶距离。                                                                         | `[m]`       |
| `minXVelocity`      | 沿 x 方向（行驶方向）的最小速度（含符号）；上方车道车辆多为负值，下方车道多为正值。                     | `[m/s]`     |
| `maxXVelocity`      | 沿 x 方向的最大速度（含符号）。                                                                          | `[m/s]`     |
| `meanXVelocity`     | 沿 x 方向的平均速度（含符号）。                                                                          | `[m/s]`     |
| `minDHW`            | 该车与前车的最小 Distance Headway（车头距离）；若不存在前车则为 `-1`。                                   | `[m]`       |
| `minTHW`            | 该车与前车的最小 Time Headway（时间头距）；若不存在前车则为 `-1`。                                      | `[s]`       |
| `minTTC`            | 该车在整个轨迹中的最小 Time-to-Collision（相对前车）；若不存在前车或 TTC 无效则为 `-1`。                 | `[s]`       |
| `numLaneChanges`    | 检测到的换道次数（基于 `laneId` 变化统计）。                                                             | `[-]`       |

---

## 3. `XX_tracks.csv` —— 帧级微观轨迹与邻车关系

一行对应“某辆车在某一帧中的状态”。

| 列名 (Column)        | 含义 (Description)                                                                                                          | 单位 (Unit) |
|----------------------|------------------------------------------------------------------------------------------------------------------------------|-------------|
| `frame`              | 帧号；通过 `time = frame / frameRate` 可换算为时间。                                                                        | `[-]`       |
| `id`                 | 车辆轨迹 ID，与 `tracksMeta.id` 对应。                                                                                      | `[-]`       |
| `x`                  | 车辆包围框左上角 x 坐标（图像坐标系）。                                                                                     | `[m]`       |
| `y`                  | 车辆包围框左上角 y 坐标（图像坐标系）。                                                                                     | `[m]`       |
| `width`              | 当前帧车辆包围框宽度。                                                                                                       | `[m]`       |
| `height`             | 当前帧车辆包围框高度。                                                                                                       | `[m]`       |
| `xVelocity`          | 沿 x 方向的速度；上方车道车辆向左行驶 ⇒ `xVelocity < 0`，下方车道向右行驶 ⇒ `xVelocity > 0`。                               | `[m/s]`     |
| `yVelocity`          | 沿 y 方向的速度（横向速度，向下为正）。                                                                                     | `[m/s]`     |
| `xAcceleration`      | 沿 x 方向的加速度（含符号）。                                                                                                | `[m/s²]`    |
| `yAcceleration`      | 沿 y 方向的加速度。                                                                                                          | `[m/s²]`    |
| `frontSightDistance` | 从车辆中心到**行驶方向前方**录像路段边界的距离（视距）；用于判断车辆距前方拍摄区域边缘的剩余距离。                           | `[m]`       |
| `backSightDistance`  | 从车辆中心到**行驶方向后方**录像路段边界的距离（后视距）。                                                                  | `[m]`       |
| `dhw`                | Distance Headway：本车车头到前车车尾的纵向净间距；若不存在前车则为 `0`。                                                     | `[m]`       |
| `thw`                | Time Headway：本车与前车的时间间距；若不存在前车或速度极低，则为 `0`。                                                       | `[s]`       |
| `ttc`                | Time-to-Collision：本车相对前车的碰撞时间；若不存在前车或 TTC 无效，则为 `0`。                                              | `[s]`       |
| `precedingXVelocity` | 前车沿 x 方向的速度；若不存在前车则为 `0`。物理意义与 `xVelocity` 相同。                                                     | `[m/s]`     |
| `precedingId`        | 本车同一车道、同一方向的前车 ID；若不存在前车则为 `0`。                                                                      | `[-]`       |
| `followingId`        | 本车同一车道、同一方向的后车 ID；若不存在后车则为 `0`。                                                                      | `[-]`       |
| `leftPrecedingId`    | 本车左侧相邻车道、行驶方向前方车辆的 ID；若不存在则为 `0`。                                                                 | `[-]`       |
| `leftAlongsideId`    | 本车左侧相邻车道中，在纵向上与本车有重叠（并排行驶）的车辆 ID；若不存在则为 `0`。                                          | `[-]`       |
| `leftFollowingId`    | 本车左侧相邻车道、行驶方向后方车辆的 ID；若不存在则为 `0`。                                                                 | `[-]`       |
| `rightPrecedingId`   | 本车右侧相邻车道、行驶方向前方车辆的 ID；若不存在则为 `0`。                                                                 | `[-]`       |
| `rightAlongsideId`   | 本车右侧相邻车道中，在纵向上与本车有重叠（并排行驶）的车辆 ID；若不存在则为 `0`。                                          | `[-]`       |
| `rightFollowingId`   | 本车右侧相邻车道、行驶方向后方车辆的 ID；若不存在则为 `0`。                                                                 | `[-]`       |
| `laneId`             | 当前帧车辆所在车道的编号；从上到下（或从左到右）依次编号，包括部分非行车区域（如绿化带、应急车道等）。                      | `[-]`       |

---

## 4. 特殊值与注意事项

1. **缺失/无适用值的约定**  
   - `minDHW`, `minTHW`, `minTTC` 中若无前车或无法计算，对应字段为 `-1`。  
   - `dhw`, `thw`, `ttc` 等帧级指标，若无前车或不适用，则为 `0`。  
   - 邻车 ID（`precedingId`, `leftFollowingId` 等）若不存在对应车辆，则为 `0`。

2. **单位统一**  
   - 所有长度均为米 `[m]`；  
   - 所有速度均为米每秒 `[m/s]`；  
   - 所有加速度为米每秒平方 `[m/s²]`；  
   - 时间均为秒 `[s]`（除 `startTime` 以 `[hh:mm]` 表示）。

3. **行驶方向与速度符号**  
   - 上方车道（`drivingDirection=1`）多车向左行驶，因此 `xVelocity` 通常为负；  
   - 下方车道（`drivingDirection=2`）车辆向右行驶，因此 `xVelocity` 通常为正。  
   - 后续若要构建统一的“沿路坐标系”，应将不同方向的速度与位置统一为“沿行驶方向为正”。

---

> 本 `data_dictionary.md` 可作为 highD 数据预处理、论文“数据描述”章节以及代码文档的基础说明文件，如需扩展自定义字段（如统一后的纵向坐标 `s_long`、平滑速度 `v_long_smooth`、VT-CPFM 排放功率/燃油/CO₂率等），建议在本文件后追加“派生变量（Derived Features）”章节进行说明。
